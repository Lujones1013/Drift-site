<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Virtual Drift League - Competitive Sim Drifting</title>
  <meta name="description" content="Virtual Drift League - Competitive Sim Drifting">
  <meta name="theme-color" content="#0b0b0c" />
  <!-- Social cards -->
  <meta property="og:title" content="Virtual Drift League - Competitive Sim Drifting" />
  <meta property="og:type" content="website" />
  <meta property="og:description" content="Virtual Drift League - Competitive Sim Drifting" />
  <meta property="og:image" content="">
  <meta name="twitter:card" content="summary_large_image" />
  <!-- Fonts + Styles -->
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <a class="skip-link" href="#content">Skip to content</a>

  <header class="site-header" role="banner">
    <div class="container header-inner">
      <a class="brand" href="./">Virtual Drift League - Competitive Sim Drifting</a>
      <button class="nav-toggle" aria-expanded="false" aria-controls="primary-nav" aria-label="Toggle navigation">‚ò∞</button>
      <nav id="primary-nav" class="site-nav" role="navigation" aria-label="Main">
        <ul>
          <li><a href="./#content">Home</a></li>
          <li><a href="./#about">About</a></li>
          <li><a href="./#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="content" class="container" tabindex="-1">
    <!-- === Your original content starts here === -->
<header>
        <div class="header-content">
            <a href="#" class="logo" onclick="showPage('home')">
                <span class="logo-icon">üèÅ</span>
                <span>Virtual Drift League</span>
            </a>
            
            <nav>
                <ul>
                    <button class="active" onclick="showPage('home')">Home</button>
                    <button onclick="showPage('events')">Events</button>
                    <button onclick="showPage('bracket')">Brackets</button>
                    <button onclick="showPage('stream')">Watch Live</button>
                    <button onclick="showPage('leaderboard')">Rankings</button>
                </ul>
            </nav>
            
            <div class="user-section">
                <button class="btn-primary" id="loginBtn" onclick="showLoginModal()">Sign In</button>
                <div class="user-profile" id="userProfile" style="display: none; position: relative;">
                    <div class="user-avatar" onclick="toggleProfileMenu()">
                        <span id="userInitial">U</span>
                    </div>
                    <div class="profile-dropdown" id="profileDropdown">
                        <div class="dropdown-header">
                            <div class="dropdown-user-info">
                                <div class="dropdown-avatar">
                                    <span id="dropdownInitial">U</span>
                                </div>
                                <div>
                                    <div class="dropdown-name" id="dropdownName">User</div>
                                    <div class="dropdown-email" id="dropdownEmail">user@example.com</div>
                                </div>
                            </div>
                        </div>
                        <div class="dropdown-menu">
                            <a href="#" class="dropdown-item" onclick="showPage('profile'); closeProfileMenu();">
                                <span>üë§</span> My Profile
                            </a>
                            <a href="#" class="dropdown-item" onclick="showPage('my-events'); closeProfileMenu();">
                                <span>üèÅ</span> My Events
                            </a>
                            <a href="#" class="dropdown-item" onclick="showPage('settings'); closeProfileMenu();">
                                <span>‚öôÔ∏è</span> Settings
                            </a>
                            <div class="dropdown-divider"></div>
                            <a href="#" class="dropdown-item" id="adminLink" style="display: none;" onclick="showPage('admin'); closeProfileMenu();">
                                <span>üîß</span> Admin Panel
                            </a>
                            <div class="dropdown-divider" id="adminDivider" style="display: none;"></div>
                            <a href="#" class="dropdown-item" onclick="logout();">
                                <span>üö™</span> Sign Out
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <main>
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="hero">
                <h1>Virtual Drift League</h1>
                <p>The Premier Competitive Sim Drifting Platform</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="showPage('events')">Join an Event</button>
                    <button class="btn btn-secondary" onclick="showPage('stream')">Watch Live</button>
                </div>
            </div>

            <div class="quick-stats">
                <div class="stat-card">
                    <div class="stat-value" id="liveNow">0</div>
                    <div class="stat-label">Live Now</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="totalDrivers">247</div>
                    <div class="stat-label">Active Drivers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="upcomingEvents">5</div>
                    <div class="stat-label">Upcoming Events</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="prizePools">$5K</div>
                    <div class="stat-label">Monthly Prizes</div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Featured Events</h2>
                    <a href="#" onclick="showPage('events')" style="color: var(--primary); text-decoration: none;">View All ‚Üí</a>
                </div>
                
                <div class="event-grid">
                    <div class="event-card" onclick="showEventDetails('winter-championship')">
                        <div class="event-header">
                            <div>
                                <div class="event-title">Winter Championship</div>
                                <div class="event-date">Saturday, 8:00 PM EST</div>
                            </div>
                            <span class="event-status status-open">Open</span>
                        </div>
                        <div class="event-info">
                            <div class="event-info-item">
                                <span>üë•</span>
                                <span>12/16 Drivers</span>
                            </div>
                            <div class="event-info-item">
                                <span>üèÜ</span>
                                <span>$500 Prize</span>
                            </div>
                        </div>
                    </div>

                    <div class="event-card">
                        <div class="event-header">
                            <div>
                                <div class="event-title">Weekly Showdown</div>
                                <div class="event-date">Tonight, 7:00 PM EST</div>
                            </div>
                            <span class="event-status status-live">Live</span>
                        </div>
                        <div class="event-info">
                            <div class="event-info-item">
                                <span>üë•</span>
                                <span>8/8 Drivers</span>
                            </div>
                            <div class="event-info-item">
                                <span>üëÅÔ∏è</span>
                                <span>342 Watching</span>
                            </div>
                        </div>
                    </div>

                    <div class="event-card">
                        <div class="event-header">
                            <div>
                                <div class="event-title">Rookie Rumble</div>
                                <div class="event-date">Tomorrow, 6:00 PM EST</div>
                            </div>
                            <span class="event-status status-open">Open</span>
                        </div>
                        <div class="event-info">
                            <div class="event-info-item">
                                <span>üë•</span>
                                <span>5/16 Drivers</span>
                            </div>
                            <div class="event-info-item">
                                <span>üéØ</span>
                                <span>Beginner Friendly</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <div class="section-header">
                    <h2 class="section-title">Top Drivers This Week</h2>
                    <a href="#" onclick="showPage('leaderboard')" style="color: var(--primary); text-decoration: none;">Full Rankings ‚Üí</a>
                </div>
                
                <div id="topDriversList">
                    <!-- Top drivers will be inserted here -->
                </div>
            </div>
        </div>

        <!-- Events Page -->
        <div id="events" class="page">
            <h1 class="mb-3">Events & Registration</h1>
            
            <div class="grid grid-2">
                <div class="card">
                    <h2 class="mb-2">Quick Registration</h2>
                    <form id="quickRegForm">
                        <div class="form-group">
                            <label for="driverName">Driver Name</label>
                            <input type="text" id="driverName" required placeholder="Your gamertag">
                        </div>
                        
                        <div class="form-group">
                            <label for="eventSelect">Select Event</label>
                            <select id="eventSelect" required>
                                <option value="">Choose an event...</option>
                                <option value="winter-championship">Winter Championship - Saturday 8PM</option>
                                <option value="rookie-rumble">Rookie Rumble - Tomorrow 6PM</option>
                                <option value="weekly-showdown">Weekly Showdown - Sunday 7PM</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="carSelect">Your Car</label>
                            <select id="carSelect" required>
                                <option value="">Select your ride...</option>
                                <option value="nissan-s15">Nissan Silvia S15</option>
                                <option value="toyota-ae86">Toyota AE86</option>
                                <option value="mazda-rx7">Mazda RX-7 FD</option>
                                <option value="nissan-350z">Nissan 350Z</option>
                                <option value="bmw-e46">BMW M3 E46</option>
                            </select>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Register Now</button>
                    </form>
                </div>

                <div class="card">
                    <h2 class="mb-2">Upcoming Events</h2>
                    <div class="event-list">
                        <div class="event-item" style="padding: 1rem; background: rgba(255,255,255,0.03); border-radius: 8px; margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600;">Winter Championship</div>
                                    <div class="text-secondary" style="font-size: 0.9rem;">Saturday, 8:00 PM EST</div>
                                </div>
                                <button class="btn btn-secondary" onclick="showEventDetails('winter-championship')">Details</button>
                            </div>
                        </div>
                        
                        <div class="event-item" style="padding: 1rem; background: rgba(255,255,255,0.03); border-radius: 8px; margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600;">Rookie Rumble</div>
                                    <div class="text-secondary" style="font-size: 0.9rem;">Tomorrow, 6:00 PM EST</div>
                                </div>
                                <button class="btn btn-secondary" onclick="showEventDetails('rookie-rumble')">Details</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2 class="section-title mb-2">Your Registrations</h2>
                <div class="table-container">
                    <table>
                        <thead>
                            <tr>
                                <th>Event</th>
                                <th>Date</th>
                                <th>Car</th>
                                <th>Status</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="myRegistrations">
                            <tr>
                                <td colspan="5" class="text-center text-secondary">No registrations yet. Sign up for an event above!</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Bracket Page -->
        <div id="bracket" class="page">
            <h1 class="mb-3">Tournament Brackets</h1>
            
            <div class="card">
                <div class="section-header">
                    <h2 class="section-title">Winter Championship - Live</h2>
                    <button class="btn btn-secondary" onclick="showPage('stream')">Watch Live</button>
                </div>
                
                <div class="bracket-container">
                    <div class="bracket-stage">
                        <div class="stage-title">Round of 8</div>
                        <div class="match">
                            <div class="match-player winner">
                                DriftKing_99
                                <span class="player-score">10</span>
                            </div>
                            <div class="match-player">
                                NightSlider
                                <span class="player-score">7</span>
                            </div>
                        </div>
                        <div class="match">
                            <div class="match-player">
                                TougeHero
                                <span class="player-score">8</span>
                            </div>
                            <div class="match-player winner">
                                SideWays_Pro
                                <span class="player-score">10</span>
                            </div>
                        </div>
                        <div class="match">
                            <div class="match-player winner">
                                AngleMonster
                                <span class="player-score">10</span>
                            </div>
                            <div class="match-player">
                                RookieDrift
                                <span class="player-score">5</span>
                            </div>
                        </div>
                        <div class="match">
                            <div class="match-player">
                                SpeedDemon
                                <span class="player-score">9</span>
                            </div>
                            <div class="match-player winner">
                                SmokeMachine
                                <span class="player-score">10</span>
                            </div>
                        </div>
                    </div>

                    <div class="bracket-stage">
                        <div class="stage-title">Semi Finals</div>
                        <div class="match" style="margin-top: 40px;">
                            <div class="match-player winner">
                                DriftKing_99
                                <span class="player-score">10</span>
                            </div>
                            <div class="match-player">
                                SideWays_Pro
                                <span class="player-score">9</span>
                            </div>
                        </div>
                        <div class="match" style="margin-top: 80px;">
                            <div class="match-player winner">
                                AngleMonster
                                <span class="player-score">10</span>
                            </div>
                            <div class="match-player">
                                SmokeMachine
                                <span class="player-score">8</span>
                            </div>
                        </div>
                    </div>

                    <div class="bracket-stage">
                        <div class="stage-title">Finals</div>
                        <div class="match" style="margin-top: 100px;">
                            <div class="match-player winner">
                                DriftKing_99
                                <span class="player-score">10</span>
                            </div>
                            <div class="match-player">
                                AngleMonster
                                <span class="player-score">8</span>
                            </div>
                        </div>
                    </div>

                    <div class="bracket-stage">
                        <div class="stage-title">Champion</div>
                        <div style="margin-top: 110px; text-align: center;">
                            <div style="font-size: 3rem;">üèÜ</div>
                            <div style="font-size: 1.5rem; font-weight: bold; color: var(--warning);">DriftKing_99</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stream Page -->
        <div id="stream" class="page">
            <h1 class="mb-3">Live Stream</h1>
            
            <div class="stream-container">
                <div class="video-wrapper">
                    <iframe 
                        src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                        title="Virtual Drift League Live Stream"
                        frameborder="0" 
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                        allowfullscreen>
                    </iframe>
                </div>
                <div class="stream-info-bar">
                    <div class="live-indicator">
                        <span class="live-dot"></span>
                        <span style="color: #ff0000; font-weight: 600;">LIVE</span>
                        <span class="text-secondary">‚Ä¢ 1,247 watching</span>
                    </div>
                    <div>
                        <span class="text-secondary">Winter Championship - Finals</span>
                    </div>
                </div>
            </div>

            <div class="grid grid-2">
                <div class="card">
                    <h2 class="mb-2">Current Match</h2>
                    <div style="display: flex; align-items: center; justify-content: space-around; padding: 2rem 0;">
                        <div class="text-center">
                            <div style="font-size: 1.5rem; font-weight: bold;">DriftKing_99</div>
                            <div class="text-secondary">Nissan S15</div>
                        </div>
                        <div style="font-size: 2rem; color: var(--warning);">VS</div>
                        <div class="text-center">
                            <div style="font-size: 1.5rem; font-weight: bold;">AngleMonster</div>
                            <div class="text-secondary">Toyota AE86</div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h2 class="mb-2">Stream Schedule</h2>
                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <div style="padding: 0.75rem; background: rgba(255,0,0,0.1); border-left: 3px solid #ff0000; border-radius: 4px;">
                            <div style="font-weight: 600;">NOW: Winter Championship Finals</div>
                            <div class="text-secondary" style="font-size: 0.9rem;">Best of 3</div>
                        </div>
                        <div style="padding: 0.75rem; background: rgba(255,255,255,0.03); border-left: 3px solid var(--border); border-radius: 4px;">
                            <div>8:30 PM - Awards Ceremony</div>
                        </div>
                        <div style="padding: 0.75rem; background: rgba(255,255,255,0.03); border-left: 3px solid var(--border); border-radius: 4px;">
                            <div>Tomorrow - Weekly Showdown</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Leaderboard Page -->
        <div id="leaderboard" class="page">
            <h1 class="mb-3">Season Rankings</h1>
            
            <div class="section">
                <div class="leaderboard-item">
                    <span class="rank rank-1">#1</span>
                    <div class="driver-info">
                        <div class="driver-name">DriftKing_99</div>
                        <div class="driver-stats">Wins: 18 ‚Ä¢ Losses: 2 ‚Ä¢ Win Rate: 90%</div>
                    </div>
                    <div class="points">2,450</div>
                </div>

                <div class="leaderboard-item">
                    <span class="rank rank-2">#2</span>
                    <div class="driver-info">
                        <div class="driver-name">SideWays_Pro</div>
                        <div class="driver-stats">Wins: 16 ‚Ä¢ Losses: 4 ‚Ä¢ Win Rate: 80%</div>
                    </div>
                    <div class="points">2,280</div>
                </div>

                <div class="leaderboard-item">
                    <span class="rank rank-3">#3</span>
                    <div class="driver-info">
                        <div class="driver-name">TougeHero</div>
                        <div class="driver-stats">Wins: 15 ‚Ä¢ Losses: 5 ‚Ä¢ Win Rate: 75%</div>
                    </div>
                    <div class="points">2,100</div>
                </div>

                <div class="leaderboard-item">
                    <span class="rank">#4</span>
                    <div class="driver-info">
                        <div class="driver-name">AngleMonster</div>
                        <div class="driver-stats">Wins: 14 ‚Ä¢ Losses: 6 ‚Ä¢ Win Rate: 70%</div>
                    </div>
                    <div class="points">1,950</div>
                </div>

                <div class="leaderboard-item">
                    <span class="rank">#5</span>
                    <div class="driver-info">
                        <div class="driver-name">SmokeMachine</div>
                        <div class="driver-stats">Wins: 13 ‚Ä¢ Losses: 7 ‚Ä¢ Win Rate: 65%</div>
                    </div>
                    <div class="points">1,820</div>
                </div>
            </div>
        </div>

        <!-- Profile Page -->
        <div id="profile" class="page">
            <h1 class="mb-3">Profile Settings</h1>
            
            <div class="grid" style="grid-template-columns: 250px 1fr; gap: 2rem;">
                <!-- Settings Sidebar -->
                <div class="card" style="height: fit-content;">
                    <div class="settings-nav">
                        <a href="#" class="settings-nav-item active" onclick="showProfileTab('profile-info')">
                            <span>üë§</span> Profile Info
                        </a>
                        <a href="#" class="settings-nav-item" onclick="showProfileTab('security')">
                            <span>üîí</span> Security
                        </a>
                        <a href="#" class="settings-nav-item" onclick="showProfileTab('payment')">
                            <span>üí≥</span> Payment
                        </a>
                        <a href="#" class="settings-nav-item" onclick="showProfileTab('preferences')">
                            <span>‚öôÔ∏è</span> Preferences
                        </a>
                        <a href="#" class="settings-nav-item" onclick="showProfileTab('notifications')">
                            <span>üîî</span> Notifications
                        </a>
                    </div>
                </div>

                <!-- Profile Info Tab -->
                <div id="profile-info" class="profile-tab active">
                    <div class="card">
                        <h2 class="mb-3">Profile Information</h2>
                        
                        <!-- Avatar Upload Section -->
                        <div class="avatar-section">
                            <div class="avatar-large" id="avatarPreview">
                                <span id="avatarInitial">U</span>
                                <img id="avatarImage" style="display: none; width: 100%; height: 100%; object-fit: cover; border-radius: 50%;">
                            </div>
                            <div class="avatar-upload-controls">
                                <h3>Profile Picture</h3>
                                <p class="text-secondary mb-2">Upload a profile picture to personalize your account</p>
                                <div style="display: flex; gap: 1rem;">
                                    <button class="btn btn-secondary" onclick="document.getElementById('avatarInput').click()">
                                        Upload Photo
                                    </button>
                                    <button class="btn btn-secondary" onclick="removeAvatar()">Remove</button>
                                </div>
                                <input type="file" id="avatarInput" accept="image/*" style="display: none;" onchange="handleAvatarUpload(event)">
                                <p class="text-secondary mt-2" style="font-size: 0.85rem;">JPG, PNG or GIF. Max size 5MB</p>
                            </div>
                        </div>

                        <div class="divider"></div>

                        <!-- Profile Form -->
                        <form id="profileInfoForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="profileUsername">Username</label>
                                    <input type="text" id="profileUsername" value="DriftKing_99" required>
                                </div>
                                <div class="form-group">
                                    <label for="profileEmail">Email</label>
                                    <input type="email" id="profileEmail" value="driver@example.com" required>
                                </div>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="profileFirstName">First Name</label>
                                    <input type="text" id="profileFirstName" placeholder="John">
                                </div>
                                <div class="form-group">
                                    <label for="profileLastName">Last Name</label>
                                    <input type="text" id="profileLastName" placeholder="Doe">
                                </div>
                            </div>

                            <div class="form-group">
                                <label for="profileBio">Bio</label>
                                <textarea id="profileBio" rows="4" placeholder="Tell us about your drifting experience...">Professional sim drifter competing since 2020. Specializing in tandem battles.</textarea>
                            </div>

                            <div class="form-row">
                                <div class="form-group">
                                    <label for="profileCountry">Country</label>
                                    <select id="profileCountry">
                                        <option>United States</option>
                                        <option>Canada</option>
                                        <option>United Kingdom</option>
                                        <option>Japan</option>
                                        <option>Germany</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="profileFavCar">Favorite Car</label>
                                    <select id="profileFavCar">
                                        <option>Nissan Silvia S15</option>
                                        <option>Toyota AE86</option>
                                        <option>Mazda RX-7 FD</option>
                                        <option>BMW M3 E46</option>
                                    </select>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary">Save Changes</button>
                        </form>
                    </div>
                </div>

                <!-- Security Tab -->
                <div id="security" class="profile-tab" style="display: none;">
                    <div class="card">
                        <h2 class="mb-3">Security Settings</h2>
                        
                        <!-- Password Reset Section -->
                        <div class="security-section">
                            <h3>Change Password</h3>
                            <p class="text-secondary mb-3">Ensure your account stays secure by using a strong password</p>
                            
                            <form id="passwordResetForm">
                                <div class="form-group">
                                    <label for="currentPassword">Current Password</label>
                                    <input type="password" id="currentPassword" required>
                                </div>
                                
                                <div class="form-group">
                                    <label for="newPassword">New Password</label>
                                    <input type="password" id="newPassword" required>
                                    <div class="password-strength mt-2">
                                        <div class="password-strength-bar">
                                            <div class="password-strength-fill" id="strengthBar"></div>
                                        </div>
                                        <span class="text-secondary" style="font-size: 0.85rem;" id="strengthText">Enter a password</span>
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="confirmPassword">Confirm New Password</label>
                                    <input type="password" id="confirmPassword" required>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">Update Password</button>
                            </form>
                        </div>

                        <div class="divider"></div>

                        <!-- Two-Factor Authentication -->
                        <div class="security-section">
                            <h3>Two-Factor Authentication</h3>
                            <p class="text-secondary mb-3">Add an extra layer of security to your account</p>
                            
                            <div class="two-factor-status">
                                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: rgba(255,255,255,0.03); border-radius: 8px;">
                                    <div>
                                        <div style="font-weight: 600;">Status: <span style="color: var(--warning);">Not Enabled</span></div>
                                        <div class="text-secondary" style="font-size: 0.9rem;">Protect your account with 2FA</div>
                                    </div>
                                    <button class="btn btn-secondary">Enable 2FA</button>
                                </div>
                            </div>
                        </div>

                        <div class="divider"></div>

                        <!-- Active Sessions -->
                        <div class="security-section">
                            <h3>Active Sessions</h3>
                            <p class="text-secondary mb-3">Manage your active login sessions</p>
                            
                            <div class="session-list">
                                <div class="session-item">
                                    <div>
                                        <div style="font-weight: 600;">Chrome on Windows</div>
                                        <div class="text-secondary" style="font-size: 0.9rem;">192.168.1.1 ‚Ä¢ Current session</div>
                                    </div>
                                    <span style="color: var(--success);">Active</span>
                                </div>
                                <div class="session-item">
                                    <div>
                                        <div style="font-weight: 600;">Mobile App - iOS</div>
                                        <div class="text-secondary" style="font-size: 0.9rem;">Last active 2 hours ago</div>
                                    </div>
                                    <button class="btn btn-secondary" style="padding: 0.4rem 1rem; font-size: 0.9rem;">Revoke</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Payment Tab -->
                <div id="payment" class="profile-tab" style="display: none;">
                    <div class="card">
                        <h2 class="mb-3">Payment Information</h2>
                        
                        <!-- Payment Methods -->
                        <div class="payment-section">
                            <h3>Payment Methods</h3>
                            <p class="text-secondary mb-3">Manage your payment methods for event entries and subscriptions</p>
                            
                            <div class="payment-methods">
                                <div class="payment-card-item">
                                    <div class="payment-card-icon">üí≥</div>
                                    <div class="payment-card-info">
                                        <div style="font-weight: 600;">‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ ‚Ä¢‚Ä¢‚Ä¢‚Ä¢ 4242</div>
                                        <div class="text-secondary" style="font-size: 0.9rem;">Expires 12/25</div>
                                    </div>
                                    <div class="payment-card-actions">
                                        <span class="badge-primary">Primary</span>
                                        <button class="btn btn-secondary" style="padding: 0.4rem 1rem; font-size: 0.9rem;">Edit</button>
                                    </div>
                                </div>
                                
                                <div class="payment-card-item">
                                    <div class="payment-card-icon">üí∞</div>
                                    <div class="payment-card-info">
                                        <div style="font-weight: 600;">PayPal</div>
                                        <div class="text-secondary" style="font-size: 0.9rem;">user@example.com</div>
                                    </div>
                                    <div class="payment-card-actions">
                                        <button class="btn btn-secondary" style="padding: 0.4rem 1rem; font-size: 0.9rem;">Remove</button>
                                    </div>
                                </div>
                            </div>
                            
                            <button class="btn btn-secondary mt-3" onclick="showAddPaymentModal()">+ Add Payment Method</button>
                        </div>

                        <div class="divider"></div>

                        <!-- Billing Information -->
                        <div class="payment-section">
                            <h3>Billing Information</h3>
                            <form id="billingForm">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="billingName">Full Name</label>
                                        <input type="text" id="billingName" placeholder="John Doe">
                                    </div>
                                    <div class="form-group">
                                        <label for="billingEmail">Billing Email</label>
                                        <input type="email" id="billingEmail" placeholder="billing@example.com">
                                    </div>
                                </div>
                                
                                <div class="form-group">
                                    <label for="billingAddress">Street Address</label>
                                    <input type="text" id="billingAddress" placeholder="123 Main Street">
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="billingCity">City</label>
                                        <input type="text" id="billingCity" placeholder="New York">
                                    </div>
                                    <div class="form-group">
                                        <label for="billingState">State/Province</label>
                                        <input type="text" id="billingState" placeholder="NY">
                                    </div>
                                    <div class="form-group">
                                        <label for="billingZip">ZIP/Postal Code</label>
                                        <input type="text" id="billingZip" placeholder="10001">
                                    </div>
                                </div>
                                
                                <button type="submit" class="btn btn-primary">Save Billing Info</button>
                            </form>
                        </div>

                        <div class="divider"></div>

                        <!-- Transaction History -->
                        <div class="payment-section">
                            <h3>Recent Transactions</h3>
                            <div class="transaction-list">
                                <div class="transaction-item">
                                    <div>
                                        <div style="font-weight: 600;">Winter Championship Entry</div>
                                        <div class="text-secondary" style="font-size: 0.9rem;">Dec 15, 2024</div>
                                    </div>
                                    <div style="color: var(--danger);">-$25.00</div>
                                </div>
                                <div class="transaction-item">
                                    <div>
                                        <div style="font-weight: 600;">Weekly Showdown Prize</div>
                                        <div class="text-secondary" style="font-size: 0.9rem;">Dec 10, 2024</div>
                                    </div>
                                    <div style="color: var(--success);">+$100.00</div>
                                </div>
                                <div class="transaction-item">
                                    <div>
                                        <div style="font-weight: 600;">Pro Subscription</div>
                                        <div class="text-secondary" style="font-size: 0.9rem;">Dec 1, 2024</div>
                                    </div>
                                    <div style="color: var(--danger);">-$9.99</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Preferences Tab -->
                <div id="preferences" class="profile-tab" style="display: none;">
                    <div class="card">
                        <h2 class="mb-3">Preferences</h2>
                        
                        <form id="preferencesForm">
                            <div class="form-group">
                                <label>Theme</label>
                                <div style="display: flex; gap: 1rem;">
                                    <label class="radio-option">
                                        <input type="radio" name="theme" value="dark" checked>
                                        <span>Dark Mode</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="theme" value="light">
                                        <span>Light Mode</span>
                                    </label>
                                    <label class="radio-option">
                                        <input type="radio" name="theme" value="auto">
                                        <span>Auto</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="language">Language</label>
                                <select id="language">
                                    <option>English</option>
                                    <option>Spanish</option>
                                    <option>Japanese</option>
                                    <option>German</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label for="timezone">Timezone</label>
                                <select id="timezone">
                                    <option>Eastern Time (ET)</option>
                                    <option>Pacific Time (PT)</option>
                                    <option>Central Time (CT)</option>
                                    <option>GMT</option>
                                </select>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">Save Preferences</button>
                        </form>
                    </div>
                </div>

                <!-- Notifications Tab -->
                <div id="notifications" class="profile-tab" style="display: none;">
                    <div class="card">
                        <h2 class="mb-3">Notification Settings</h2>
                        
                        <form id="notificationsForm">
                            <div class="notification-group">
                                <h3>Email Notifications</h3>
                                <label class="toggle-option">
                                    <input type="checkbox" checked>
                                    <span>Event reminders</span>
                                </label>
                                <label class="toggle-option">
                                    <input type="checkbox" checked>
                                    <span>Match results</span>
                                </label>
                                <label class="toggle-option">
                                    <input type="checkbox">
                                    <span>Weekly newsletter</span>
                                </label>
                                <label class="toggle-option">
                                    <input type="checkbox" checked>
                                    <span>Prize payouts</span>
                                </label>
                            </div>
                            
                            <div class="notification-group">
                                <h3>Push Notifications</h3>
                                <label class="toggle-option">
                                    <input type="checkbox" checked>
                                    <span>Match starting soon</span>
                                </label>
                                <label class="toggle-option">
                                    <input type="checkbox" checked>
                                    <span>Bracket updates</span>
                                </label>
                                <label class="toggle-option">
                                    <input type="checkbox">
                                    <span>New events</span>
                                </label>
                            </div>
                            
                            <button type="submit" class="btn btn-primary">Save Notification Settings</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Add Payment Method Modal -->
        <div class="modal-overlay" id="paymentModal">
            <div class="modal" style="position: relative; max-width: 500px;">
                <button class="close-modal" onclick="closePaymentModal()">√ó</button>
                <div class="modal-header">
                    <h2 class="modal-title">Add Payment Method</h2>
                </div>
                
                <form id="addPaymentForm">
                    <div class="form-group">
                        <label for="cardNumber">Card Number</label>
                        <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19" required>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="cardExpiry">Expiry Date</label>
                            <input type="text" id="cardExpiry" placeholder="MM/YY" maxlength="5" required>
                        </div>
                        <div class="form-group">
                            <label for="cardCVC">CVC</label>
                            <input type="text" id="cardCVC" placeholder="123" maxlength="3" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="cardName">Name on Card</label>
                        <input type="text" id="cardName" placeholder="John Doe" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox">
                            <span>Set as primary payment method</span>
                        </label>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Add Payment Method</button>
                </form>
            </div>
        </div>
        <div id="admin" class="page">
            <h1 class="mb-3">Admin Dashboard</h1>
            
            <div class="quick-stats">
                <div class="stat-card">
                    <div class="stat-value">12</div>
                    <div class="stat-label">Active Events</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">247</div>
                    <div class="stat-label">Total Users</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">1,342</div>
                    <div class="stat-label">Matches Today</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">98%</div>
                    <div class="stat-label">System Health</div>
                </div>
            </div>

            <div class="grid grid-2">
                <div class="card">
                    <h2 class="mb-2">Create Event</h2>
                    <form id="createEventForm">
                        <div class="form-group">
                            <label for="eventName">Event Name</label>
                            <input type="text" id="eventName" required placeholder="e.g., Spring Championship">
                        </div>
                        
                        <div class="form-group">
                            <label for="eventDate">Date & Time</label>
                            <input type="datetime-local" id="eventDate" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="maxPlayers">Maximum Players</label>
                            <input type="number" id="maxPlayers" value="16" min="2" max="64" required>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">Create Event</button>
                    </form>
                </div>

                <div class="card">
                    <h2 class="mb-2">Quick Actions</h2>
                    <div style="display: flex; flex-direction: column; gap: 1rem;">
                        <button class="btn btn-secondary">Generate Bracket</button>
                        <button class="btn btn-secondary">Start Stream</button>
                        <button class="btn btn-secondary">Export Results</button>
                        <button class="btn btn-secondary">Send Announcements</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Login Modal -->
    <div class="modal-overlay" id="loginModal">
        <div class="modal" style="position: relative;">
            <button class="close-modal" onclick="closeLoginModal()">√ó</button>
            <div class="modal-header">
                <h2 class="modal-title">Welcome Back</h2>
            </div>
            
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" id="username" required placeholder="Enter your username">
                </div>
                
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" required placeholder="Enter your password">
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;">Sign In</button>
            </form>
            
            <div style="margin-top: 1.5rem; padding: 1rem; background: rgba(255,215,0,0.1); border-radius: 8px;">
                <p style="color: var(--warning); font-size: 0.9rem; margin: 0;">
                    <strong>Demo:</strong><br>
                    Regular User: Any username<br>
                    Admin: Username "admin"
                </p>
            </div>
        </div>
    </div>

    <script>
        // Page Navigation
        function showPage(pageId) {
            const pages = document.querySelectorAll('.page');
            const buttons = document.querySelectorAll('nav button');
            
            // Check admin access
            if (pageId === 'admin' && !isAdmin) {
                alert('Admin access required');
                return;
            }
            
            pages.forEach(page => page.classList.remove('active'));
            buttons.forEach(btn => btn.classList.remove('active'));
            
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
            }
            
            buttons.forEach(btn => {
                if (btn.getAttribute('onclick') && btn.getAttribute('onclick').includes(pageId)) {
                    btn.classList.add('active');
                }
            });
        }

        // User Authentication
        let currentUser = null;
        let isAdmin = false;

        function showLoginModal() {
            document.getElementById('loginModal').classList.add('active');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.remove('active');
        }

        function handleLogin(event) {
            event.preventDefault();
            const username = document.getElementById('username').value;
            
            if (username.toLowerCase() === 'admin') {
                loginAsAdmin(username);
            } else {
                loginAsUser(username);
            }
            
            closeLoginModal();
        }

        function loginAsUser(username) {
            currentUser = {
                name: username,
                email: username + '@example.com',
                isAdmin: false
            };
            updateUI(currentUser);
        }

        function loginAsAdmin(username) {
            currentUser = {
                name: username,
                email: username + '@example.com',
                isAdmin: true
            };
            isAdmin = true;
            updateUI(currentUser);
            
            // Show admin options
            document.getElementById('adminLink').style.display = 'block';
            document.getElementById('adminDivider').style.display = 'block';
        }

        function updateUI(user) {
            document.getElementById('loginBtn').style.display = 'none';
            document.getElementById('userProfile').style.display = 'block';
            
            const initial = user.name.charAt(0).toUpperCase();
            document.getElementById('userInitial').textContent = initial;
            document.getElementById('dropdownInitial').textContent = initial;
            document.getElementById('dropdownName').textContent = user.name;
            document.getElementById('dropdownEmail').textContent = user.email;
        }

        function toggleProfileMenu() {
            const dropdown = document.getElementById('profileDropdown');
            dropdown.classList.toggle('active');
        }

        function closeProfileMenu() {
            document.getElementById('profileDropdown').classList.remove('active');
        }

        function logout() {
            currentUser = null;
            isAdmin = false;
            document.getElementById('loginBtn').style.display = 'block';
            document.getElementById('userProfile').style.display = 'none';
            document.getElementById('adminLink').style.display = 'none';
            document.getElementById('adminDivider').style.display = 'none';
            closeProfileMenu();
            showPage('home');
        }

        // Click outside to close dropdown
        document.addEventListener('click', function(event) {
            const userProfile = document.getElementById('userProfile');
            const dropdown = document.getElementById('profileDropdown');
            
            if (userProfile && !userProfile.contains(event.target)) {
                dropdown.classList.remove('active');
            }
        });

        // Form Submissions
        document.getElementById('quickRegForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Registration successful! Check your email for confirmation.');
            this.reset();
        });

        document.getElementById('createEventForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Event created successfully!');
            this.reset();
        });

        // Initialize top drivers
        function loadTopDrivers() {
            const topDrivers = [
                { rank: 1, name: 'DriftKing_99', points: 2450, wins: 18, losses: 2 },
                { rank: 2, name: 'SideWays_Pro', points: 2280, wins: 16, losses: 4 },
                { rank: 3, name: 'TougeHero', points: 2100, wins: 15, losses: 5 }
            ];

            const container = document.getElementById('topDriversList');
            if (container) {
                container.innerHTML = topDrivers.map(driver => `
                    <div class="leaderboard-item">
                        <span class="rank rank-${driver.rank}">#${driver.rank}</span>
                        <div class="driver-info">
                            <div class="driver-name">${driver.name}</div>
                            <div class="driver-stats">W: ${driver.wins} ‚Ä¢ L: ${driver.losses}</div>
                        </div>
                        <div class="points">${driver.points}</div>
                    </div>
                `).join('');
            }
        }

        // Profile Tab Navigation
        function showProfileTab(tabId) {
            const tabs = document.querySelectorAll('.profile-tab');
            const navItems = document.querySelectorAll('.settings-nav-item');
            
            tabs.forEach(tab => tab.style.display = 'none');
            navItems.forEach(item => item.classList.remove('active'));
            
            const targetTab = document.getElementById(tabId);
            if (targetTab) {
                targetTab.style.display = 'block';
            }
            
            event.target.closest('.settings-nav-item').classList.add('active');
        }

        // Avatar Upload
        function handleAvatarUpload(event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith('image/')) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const avatarImage = document.getElementById('avatarImage');
                    const avatarInitial = document.getElementById('avatarInitial');
                    avatarImage.src = e.target.result;
                    avatarImage.style.display = 'block';
                    avatarInitial.style.display = 'none';
                    
                    // Update small avatar in header
                    const userAvatar = document.querySelector('.user-avatar');
                    if (userAvatar) {
                        userAvatar.style.backgroundImage = `url(${e.target.result})`;
                        userAvatar.style.backgroundSize = 'cover';
                        document.getElementById('userInitial').style.display = 'none';
                    }
                };
                reader.readAsDataURL(file);
            }
        }

        function removeAvatar() {
            document.getElementById('avatarImage').style.display = 'none';
            document.getElementById('avatarInitial').style.display = 'flex';
            document.getElementById('avatarInput').value = '';
            
            // Reset header avatar
            const userAvatar = document.querySelector('.user-avatar');
            if (userAvatar) {
                userAvatar.style.backgroundImage = '';
                document.getElementById('userInitial').style.display = 'block';
            }
        }

        // Password Strength Checker
        document.getElementById('newPassword')?.addEventListener('input', function(e) {
            const password = e.target.value;
            const strengthBar = document.getElementById('strengthBar');
            const strengthText = document.getElementById('strengthText');
            
            if (password.length === 0) {
                strengthBar.className = 'password-strength-fill';
                strengthText.textContent = 'Enter a password';
                return;
            }
            
            let strength = 0;
            if (password.length >= 8) strength++;
            if (password.match(/[a-z]/) && password.match(/[A-Z]/)) strength++;
            if (password.match(/[0-9]/)) strength++;
            if (password.match(/[^a-zA-Z0-9]/)) strength++;
            
            if (strength <= 1) {
                strengthBar.className = 'password-strength-fill weak';
                strengthText.textContent = 'Weak password';
            } else if (strength === 2) {
                strengthBar.className = 'password-strength-fill medium';
                strengthText.textContent = 'Medium strength';
            } else {
                strengthBar.className = 'password-strength-fill strong';
                strengthText.textContent = 'Strong password';
            }
        });

        // Payment Modal
        function showAddPaymentModal() {
            document.getElementById('paymentModal').classList.add('active');
        }

        function closePaymentModal() {
            document.getElementById('paymentModal').classList.remove('active');
        }

        // Card Number Formatting
        document.getElementById('cardNumber')?.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\s/g, '');
            let formattedValue = value.match(/.{1,4}/g)?.join(' ') || value;
            e.target.value = formattedValue;
        });

        // Expiry Date Formatting
        document.getElementById('cardExpiry')?.addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.slice(0, 2) + '/' + value.slice(2, 4);
            }
            e.target.value = value;
        });

        // Form Submissions for Profile
        document.getElementById('profileInfoForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Profile information updated successfully!');
        });

        document.getElementById('passwordResetForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            const newPassword = document.getElementById('newPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (newPassword !== confirmPassword) {
                alert('Passwords do not match!');
                return;
            }
            
            alert('Password updated successfully!');
            this.reset();
        });

        document.getElementById('billingForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Billing information saved!');
        });

        document.getElementById('addPaymentForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Payment method added successfully!');
            closePaymentModal();
            this.reset();
        });

        document.getElementById('preferencesForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Preferences saved!');
        });

        document.getElementById('notificationsForm')?.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Notification settings updated!');
        });

        // Initialize everything on load
        document.addEventListener('DOMContentLoaded', function() {
            loadTopDrivers();
            
            // Set initial avatar letter
            const avatarInitial = document.getElementById('avatarInitial');
            if (avatarInitial && currentUser) {
                avatarInitial.textContent = currentUser.name.charAt(0).toUpperCase();
            }
        });
    </script>
    <!-- === Your original content ends here === -->
  </main>

  <footer class="site-footer">
    <div class="container">
      <p>¬© 2025 Virtual Drift League - Competitive Sim Drifting. All rights reserved.</p>
    </div>
  </footer>

  <script src="script.js" defer></script>
</body>
</html>
